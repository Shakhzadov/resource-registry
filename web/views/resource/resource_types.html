<div class="container-fluid" ng-if="currentUser.role === 'admin'" ng-controller="IndexCtrl">
    
    <style>
        input {  text-indent: 1.5em;}
        input:focus { text-align: left; }
        .attribute{position: relative; }
    </style>

    <div class="col-md-12">
        <div class="md-list-group">
            <ul class="list-group">
                <li class="list-group-item row">
                    <div class="row">
                        <div class="col-md-6">
                            <form name="myForm" role="form" ng-submit="addResourceClass(addResClass)">
                                <div class="input-group">
                                    <input type="text" name="resource class" id="attribute" class="form-control" ng-model="addResClass" placeholder="назва нового типу ресурсів" required />
                                    <span class="input-group-btn">
                                        <button type="submit" class="btn btn-material-amber-400" type="button">ДОДАТИ <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                                    </span>
                                </div>     
                            </form>
                        </div> 
                    </div>
                    <div class="row">
                        <div class="col-md-10">
                            <div class="col-md-10"><h4>Назва типу</h4></div>
                        </div>
                        <div class="col-md-2"><h4>Дія</h4></div>
                    </div>
                </li>
                <li class="list-group-item row">
                    <div ng-repeat="data in xmlData[0]">
                        <div>
                            <div class="btn btn-md btn-primary collapsed col-md-10" ng-class="{'btn-disabled' : data[0].activation_status == 0}" ng-attr-data-toggle="{{data[0].activation_status == 1 ? 'collapse' : 'notcollapse'}}" data-target="{{'#demo' + data[0].class_id}}">
                                <div class="col-md-10">{{data[0].name}}</div>
                            </div>    
                            <div class="btn-group text-left">
                                <a class="btn btn-primary ng-scope" title="Редагувати" ng-if="currentUser.role === 'admin' &amp;&amp; currentUser.isLogined">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </a>
                                <a class="btn btn-material-red-400 text-center ng-scope" title="Деактивувати" ng-if="currentUser.role === 'admin' &amp;&amp; currentUser.isLogined" ng-show="{{data[0].activation_status == 1}}" ng-click="changeActivationStatus(0, data[0].class_id)">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                </a>
                                <a class="btn btn-material-grey-500 text-center ng-scope" title="Активувати" ng-if="currentUser.role === 'admin' &amp;&amp; currentUser.isLogined" ng-show="{{data[0].activation_status == 0}}" ng-click="changeActivationStatus(1, data[0].class_id)">
                                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                                </a>    
                            </div>
                        </div>
                        <div class="row">
                        <div class="col-md-10">
                                <div id="{{'demo' + data[0].class_id}}" class="collapse">
                                    <span ng-repeat="data in data[1]">
                                        <span class="btn btn-default btn-xs btn-raised">
                                            <span>{{data.name}}<a class="close" ng-click="deleteAttribute(data.attribute_id)">&times;</a></span>
                                        </span>
                                    </span>
                                    <form name="myForm" role="form" ng-submit="addAttribute(addAttr, data[0].class_id)">
                                        <div  class="input-group">
                                            <input type="text" name="attribute" id="attribute" class="form-control" ng-model="addAttr" placeholder="назва нового атрибуту" required />
                                            <div class="form-actions">
                                                <button type="submit"  class="btn btn-material-amber-400" type="button">ДОДАТИ <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- <div class="col-md-10">
                                <div id="{{'demo' + data.main.class_ID}}" class="collapse">
                                    <span class="btn btn-default btn-xs btn-raised" ng-repeat="attr_name in data.attr.attr_name">
                                        <span class="attribute">{{attr.attr_name}}<a class="close" ng-click="del(attr_id)">&times;</a></span>
                                    </span>
                                    <form name="myForm" role="form" ng-submit="addAttribute(addAttr, data.main.class_ID)">
                                        <div  class="input-group">
                                            <input type="text" name="attribute" id="attribute" class="form-control" ng-model="addAttr" placeholder="назва нового атрибуту" required />
                                            <div class="form-actions">
                                                <button type="submit"  class="btn btn-material-amber-400" type="button">ДОДАТИ <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div> -->
                            <div class="col-md-2"></div> 
                        </div>    
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<div ng-show="resources.length === 0">
    There are no resources
</div>
