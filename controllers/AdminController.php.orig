<?php
namespace app\controllers;
<<<<<<< HEAD
use yii\rest\ActiveController;
use yii\data\ActiveDataProvider;
use app\models\User;

class AdminController extends ActiveController {
	public $modelClass = 'app\models\User';
	
	public function actionAdmin() {
		$request= \Yii::$app->request->get();
		$admin = User::find()
		->select(['username', 'last_name','first_name','name'])
		->innerJoinWith('personalData')->innerJoinWith('someRole')
		// ->andFilterWhere(['like', $request['field'], $request['value']])
		// ->orderBy($request['column'])
=======

use yii\rest\ActiveController;
use yii\data\ActiveDataProvider;
use app\models\Admin;

class AdminController extends ActiveController {

	public $modelClass = 'app\models\Admin';
	
	public function actionAdmin() {

		$request= \Yii::$app->request->get();

		$admin = Admin::find()
		->select(['username', 'last_name','first_name','name'])
		->innerJoinWith('personalData')->innerJoinWith('role')
		->andFilterWhere(['like', $request['field'], $request['value']])
		->orderBy($request['column'])
>>>>>>> 367cac48199d032e067d8f5a0a42301d0575b350
		->asArray();
		
		$dataProvider = new ActiveDataProvider([
			'query' => $admin,
			'pagination' => [
				'pageSize' => 20,
				//'pageParam' => $get['page'],
			],
		]);
		return $dataProvider;
		
	}
}
<<<<<<< HEAD
=======

>>>>>>> 367cac48199d032e067d8f5a0a42301d0575b350
?>